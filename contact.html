<!DOCTYPE html>
<html>
<head>
    <title>Contact</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="logo">
            <h1>BloodConnect</h1>
        </div>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="contact.html">Contact Us</a></li>
            </ul>
        </nav>
    </header>

    <h1>Contact Us</h1>
    
    <form method="post" id="contact">
        <label for="name">Name</label>
        <input type="text" name="name" id="name" required>
        
        <label for="email">Email</label>
        <input type="email" name="email" id="email" required>
        
        <label for="subject">Subject</label>
        <input type="text" name="subject" id="subject" required>
        
        <label for="message">Message</label>
        <textarea name="message" id="message" required></textarea>
        
        <br>
        
        <button>Send</button>
    </form>

    <!-- Firebase SDK v9 -->
    <script src="https://www.gstatic.com/firebasejs/9.12.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.12.1/firebase-database.js"></script>

    <script>
      // Initialize Firebase
      const firebaseConfig = {
        apiKey: "AIzaSyAg-9Z2IYRw8NxT6cPLMIMLxeKK_lpgckM",
        authDomain: "onlinebloodconnect-6ac9a.firebaseapp.com",
        databaseURL: "https://onlinebloodconnect-6ac9a-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "onlinebloodconnect-6ac9a",
        storageBucket: "onlinebloodconnect-6ac9a.firebasestorage.app",
        messagingSenderId: "764983731406",
        appId: "1:764983731406:web:7ac0e6590a19a3a4af5c9f"
      };
      const app = firebase.initializeApp(firebaseConfig);
      const db = firebase.database(app);

      document.getElementById('contact').addEventListener('submit', submitForm);

      function submitForm(e) {
        e.preventDefault();

        var email = getInputVal('email');
        var message = getInputVal('message');
        var name = getInputVal('name');
        var subject = getInputVal('subject');

        saveMessage(email, message, name, subject);
        document.getElementById('contact').reset();
      }

      function getInputVal(id) {
        return document.getElementById(id).value;
      }

      function saveMessage(email, message, name, subject) {
        var newMessageRef = db.ref().push();
        newMessageRef.set({
          email: email,
          message: message,
          name: name,
          subject: subject,
        });
      }
    </script>
</body>
</html>
